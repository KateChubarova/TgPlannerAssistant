date_tool = {
    "type": "function",
    "function": {
        "name": "date_tool",
        "description": (
            "Получает события пользователя из базы данных за указанный период. "
            "Сначала ОЧЕНЬ ВНИМАТЕЛЬНО определи даты (start_date и end_date) "
            "из запроса пользователя относительно сегодняшней даты "
            "(её возьми из system prompt, вместе с днём недели), "
            "затем вызови эту функцию.\n\n"
            "Правила:\n"
            "- 'сегодня' — та же дата, что и в 'Сейчас'.\n"
            "- 'завтра' — текущая дата + 1 день.\n"
            "- 'вчера' — текущая дата - 1 день.\n"
            "- 'через неделю' — текущая дата + 7 дней.\n"
            "- 'на этой неделе' — с понедельника по воскресенье текущей недели.\n"
            "- 'на следующей неделе' — с понедельника по воскресенье следующей недели.\n"
            "- 'на прошлой неделе' — с понедельника по воскресенье прошлой недели.\n"
            "- 'в этом месяце' — с 1-го по последний день текущего месяца.\n"
            "- 'в следующем месяце' — с 1-го по последний день следующего месяца.\n"
            "- 'в прошлом месяце' — с 1-го по последний день прошлого месяца.\n\n"
            "Дни недели:\n"
            "- 'в понедельник', 'во вторник', 'в среду', 'в четверг', 'в пятницу', "
            "'в субботу', 'в воскресенье' — это КОНКРЕТНЫЙ ДЕНЬ НЕДЕЛИ.\n"
            "  Если этот день ещё впереди в текущей неделе — бери его в текущей неделе.\n"
            "  Если уже прошёл — бери этот день в следующей неделе.\n\n"
            "Примеры:\n"
            "Сейчас: 2026-01-20 (вторник).\n"
            "Вопрос: 'Что в пятницу?'\n"
            "Ответ: start_date='2026-01-23', end_date='2026-01-23'.\n\n"
            "Вопрос: 'Что в понедельник?'\n"
            "Ответ: start_date='2026-01-26', end_date='2026-01-26'.\n\n"
        ),
        "parameters": {
            "type": "object",
            "properties": {
                "start_date": {
                    "type": "string",
                    "description": (
                        "Дата начала периода в формате YYYY-MM-DD. "
                        "Эту дату ты ДОЛЖНА вычислить сама по правилам выше."
                    ),
                },
                "end_date": {
                    "type": "string",
                    "description": (
                        "Дата конца периода в формате YYYY-MM-DD включительно. "
                        "Тоже вычисляется тобой самой по правилам выше."
                    ),
                },
            },
            "required": ["start_date", "end_date"],
        },
    },
}
